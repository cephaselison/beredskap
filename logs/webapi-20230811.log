[2023-08-11 09:24:22.550 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 09:24:22.848 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 09:24:22.848 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 09:24:22.849 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 09:24:22.849 +02:00  INF]  Hosting environment: Development
[2023-08-11 09:24:22.849 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 09:24:23.101 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 09:24:23.187 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 86.2407ms
[2023-08-11 09:24:23.208 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - -
[2023-08-11 09:24:23.214 +02:00  INF]  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2023-08-11 09:24:23.215 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - - - 0 143632 text/css 6.6136ms
[2023-08-11 09:24:23.307 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 09:24:23.390 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.1480ms
[2023-08-11 09:37:20.817 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 09:37:20.905 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:20.905 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 88.6675ms
[2023-08-11 09:37:20.907 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:20.909 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:20.935 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:20.949 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:21.341 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:21.342 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:21.342 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:21.343 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:21.795 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:21.795 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:22.045 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:22.045 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:22.045 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.046 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:22.066 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:22.213 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:22.214 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:22.214 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.214 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:22.214 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:22.339 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:22.339 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:22.339 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.339 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:22.340 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:22.440 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:22.440 +02:00  INF]  Executed DbCommand (44ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:22.440 +02:00  INF]  Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:22.454 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:22.498 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:22.689 +02:00  INF]  Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.689 +02:00  INF]  Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.689 +02:00  INF]  Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.713 +02:00  INF]  Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.713 +02:00  INF]  Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.741 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.741 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.767 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.793 +02:00  INF]  Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.793 +02:00  INF]  Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:22.893 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:22.893 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:22.893 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:22.893 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:22.893 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:22.909 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1956.7377ms
[2023-08-11 09:37:22.909 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 691.8762ms
[2023-08-11 09:37:22.909 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1562.9408ms
[2023-08-11 09:37:22.909 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 566.355ms
[2023-08-11 09:37:22.909 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 859.8886ms
[2023-08-11 09:37:22.910 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.910 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.910 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.910 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.910 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:22.921 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1579.5856ms
[2023-08-11 09:37:22.921 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 2013.8222ms
[2023-08-11 09:37:22.921 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 875.3423ms
[2023-08-11 09:37:22.921 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 581.7627ms
[2023-08-11 09:37:22.921 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 707.2962ms
[2023-08-11 09:37:26.173 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 09:37:26.173 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:26.173 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.8307ms
[2023-08-11 09:37:26.428 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:26.429 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:26.429 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:26.429 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:26.432 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:26.497 +02:00  INF]  Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:26.608 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:26.616 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:26.617 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:26.617 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 188.2792ms
[2023-08-11 09:37:26.617 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:26.618 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 190.1780ms
[2023-08-11 09:37:29.459 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:29.461 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:29.462 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:29.469 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:29.472 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:29.489 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:29.559 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:29.568 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:29.568 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:29.569 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 99.2467ms
[2023-08-11 09:37:29.569 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:29.569 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 109.6236ms
[2023-08-11 09:37:36.971 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 09:37:36.971 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:36.972 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.2889ms
[2023-08-11 09:37:36.974 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:37:36.974 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:37:36.976 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:36.978 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:37:36.981 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:37:36.998 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:37:37.089 +02:00  INF]  Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:37.105 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:37:37.106 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:37:37.107 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 128.8527ms
[2023-08-11 09:37:37.107 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:37:37.107 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 132.9892ms
[2023-08-11 09:40:51.923 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 09:40:51.923 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:40:51.924 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.3764ms
[2023-08-11 09:40:51.925 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 09:40:51.925 +02:00  INF]  CORS policy execution successful.
[2023-08-11 09:40:51.925 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:40:51.925 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 09:40:51.926 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 09:40:51.962 +02:00  INF]  Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 09:40:52.075 +02:00  INF]  Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:40:52.107 +02:00  INF]  Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 09:40:52.108 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 09:40:52.108 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 182.833ms
[2023-08-11 09:40:52.108 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 09:40:52.108 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 183.3955ms
[2023-08-11 10:00:25.827 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:00:25.829 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:00:25.829 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.6507ms
[2023-08-11 10:00:25.831 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:00:25.832 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:00:25.832 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:00:25.833 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:00:25.837 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:00:25.974 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:00:26.051 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:00:26.059 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:00:26.059 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:00:26.059 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 226.549ms
[2023-08-11 10:00:26.059 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:00:26.060 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 228.6795ms
[2023-08-11 10:00:38.271 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:00:38.271 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:00:38.272 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.6357ms
[2023-08-11 10:00:38.273 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:00:38.273 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:00:38.274 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:00:38.274 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:00:38.276 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:00:38.336 +02:00  INF]  Executed DbCommand (57ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:00:38.410 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:00:38.439 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:00:38.440 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:00:38.440 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 166.1204ms
[2023-08-11 10:00:38.440 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:00:38.440 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 167.0633ms
[2023-08-11 10:01:32.902 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:01:32.904 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:01:32.905 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.4229ms
[2023-08-11 10:01:32.953 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:01:32.953 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:01:32.953 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:01:32.953 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:01:32.955 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:01:32.997 +02:00  INF]  Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:01:33.154 +02:00  INF]  Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:01:33.262 +02:00  INF]  Executed DbCommand (80ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:01:33.265 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:01:33.265 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 311.6992ms
[2023-08-11 10:01:33.265 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:01:33.266 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 312.9431ms
[2023-08-11 10:01:38.919 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:01:38.920 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:01:38.920 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.0948ms
[2023-08-11 10:01:38.923 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:01:38.923 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:01:38.923 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:01:38.924 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:01:38.925 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:01:38.936 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:01:39.022 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:01:39.054 +02:00  INF]  Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:01:39.054 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:01:39.055 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 130.9614ms
[2023-08-11 10:01:39.055 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:01:39.055 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 131.7382ms
[2023-08-11 10:02:05.736 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:02:05.737 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:02:05.737 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.1773ms
[2023-08-11 10:02:05.740 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:02:05.765 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:02:05.766 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:02:05.766 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:02:05.772 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:02:05.797 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:02:05.862 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:02:05.964 +02:00  INF]  Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:02:05.967 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:02:05.971 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 204.1089ms
[2023-08-11 10:02:05.971 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:02:05.971 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 230.8493ms
[2023-08-11 10:05:24.314 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 10:05:24.315 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:05:24.316 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.3952ms
[2023-08-11 10:05:24.320 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 10:05:24.320 +02:00  INF]  CORS policy execution successful.
[2023-08-11 10:05:24.320 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:05:24.320 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 10:05:24.322 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 10:05:24.385 +02:00  INF]  Executed DbCommand (61ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 10:05:24.578 +02:00  INF]  Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:05:24.607 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 10:05:24.608 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 10:05:24.608 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 287.8957ms
[2023-08-11 10:05:24.608 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 10:05:24.608 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 288.7232ms
[2023-08-11 10:19:01.062 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/ - -
[2023-08-11 10:19:01.064 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/ - - - 404 0 - 2.4856ms
[2023-08-11 10:19:01.090 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/favicon.ico - -
[2023-08-11 10:19:01.110 +02:00  ERR]  Unexpected exception in TimingPipeFlusher.FlushAsync.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (13): Permission denied
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.FlushAsync(MinDataRate minRate, Int64 count, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1OutputProducer.FlushAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Http1OutputProducer.WriteStreamSuffixAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.WriteSuffix()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.Sources.ManualResetValueTaskSourceCore`1.SignalCompletion()
   at System.Threading.Tasks.Sources.ManualResetValueTaskSourceCore`1.SetResult(TResult result)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox.SetResult(TResult result)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.SetResult(TResult result)
   at System.IO.Pipelines.StreamPipeReader.<ReadAsync>g__Core|38_0(StreamPipeReader reader, CancellationTokenSource tokenSource, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.ConcurrentPipeWriter.FlushAsyncAwaited(ValueTask`1 flushTask, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers.TimingPipeFlusher.TimeFlushAsyncAwaited(ValueTask`1 pipeFlushTask, MinDataRate minRate, IHttpOutputAborter outputAborter, CancellationToken cancellationToken)
[2023-08-11 10:19:01.111 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/favicon.ico - - - 404 0 - 20.8410ms
[2023-08-11 10:19:01.113 +02:00  ERR]  Unhandled exception while processing 0HMSQ7FU4QM27.
System.IO.IOException: The encryption operation failed, see inner exception.
 ---> System.ComponentModel.Win32Exception (13): Permission denied
   --- End of inner exception stack trace ---
   at System.Net.Security.SslStream.WriteSingleChunk[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.HttpConnection.ProcessRequestsAsync[TContext](IHttpApplication`1 httpApplication)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequestsAsync[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.AwaitTaskContinuation.RunOrScheduleAction(IAsyncStateMachineBox box, Boolean allowInlining)
   at System.Threading.Tasks.Task.RunContinuations(Object continuationObject)
   at System.Threading.Tasks.Task`1.TrySetResult(TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.SetExistingTaskResult(Task`1 task, TResult result)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.SetResult()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext(Thread threadPoolThread)
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.AsyncStateMachineBox`1.MoveNext()
   at System.Threading.Tasks.Sources.ManualResetValueTaskSourceCore`1.SignalCompletion()
   at System.Threading.Tasks.Sources.ManualResetValueTaskSourceCore`1.SetResult(TResult result)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox.SetResult(TResult result)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.SetResult(TResult result)
   at System.IO.Pipelines.StreamPipeReader.<ReadAsync>g__Core|38_0(StreamPipeReader reader, CancellationTokenSource tokenSource, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStream.ReadAsyncInternal(Memory`1 destination, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.ExecutionContextCallback(Object s)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.MoveNext()
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.IThreadPoolWorkItem.Execute()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
   at System.Threading.Thread.StartCallback()
--- End of stack trace from previous location ---
   at System.Net.Security.SslStream.WriteAsyncInternal[TIOAdapter](ReadOnlyMemory`1 buffer, CancellationToken cancellationToken)
   at System.IO.Pipelines.StreamPipeWriter.FlushAsyncInternal(Boolean writeToStream, ReadOnlyMemory`1 data, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at System.IO.Pipelines.StreamPipeWriter.CompleteAsync(Exception exception)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.DuplexPipeStreamAdapter`1.DisposeAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.KestrelConnection`1.ExecuteAsync()
[2023-08-11 10:39:20.024 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 10:39:20.271 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 10:39:20.272 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 10:39:20.272 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 10:39:20.272 +02:00  INF]  Hosting environment: Development
[2023-08-11 10:39:20.272 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 10:39:20.530 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 10:39:20.610 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 81.1142ms
[2023-08-11 10:39:20.665 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - -
[2023-08-11 10:39:20.669 +02:00  INF]  Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[2023-08-11 10:39:20.669 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - - - 0 665 image/png 4.7284ms
[2023-08-11 10:39:20.893 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 10:39:20.906 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 10:39:20.907 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 0.4330ms
[2023-08-11 10:39:20.922 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - -
[2023-08-11 10:39:20.931 +02:00  INF]  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2023-08-11 10:39:20.931 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - - - 200 143632 text/css 8.8074ms
[2023-08-11 10:39:20.978 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 84.1746ms
[2023-08-11 10:39:20.988 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 10:39:20.990 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 2.8607ms
[2023-08-11 10:40:32.346 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/ - -
[2023-08-11 10:40:32.442 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/ - - - 404 0 - 96.1030ms
[2023-08-11 10:40:32.545 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/favicon.ico - -
[2023-08-11 10:40:32.546 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/favicon.ico - - - 0 - - 1.4266ms
[2023-08-11 12:03:43.907 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 12:03:44.172 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 12:03:44.172 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 12:03:44.173 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 12:03:44.173 +02:00  INF]  Hosting environment: Development
[2023-08-11 12:03:44.173 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 12:03:44.835 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 12:03:44.916 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 82.0583ms
[2023-08-11 12:03:44.936 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - -
[2023-08-11 12:03:44.942 +02:00  INF]  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2023-08-11 12:03:44.942 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - - - 0 143632 text/css 5.9510ms
[2023-08-11 12:03:45.109 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 12:03:45.188 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.1687ms
[2023-08-11 12:50:20.580 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 12:50:20.939 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 12:50:20.939 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 12:50:20.939 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 12:50:20.940 +02:00  INF]  Hosting environment: Development
[2023-08-11 12:50:20.940 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 12:50:51.402 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 12:50:51.650 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 12:50:51.650 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 12:50:51.650 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 12:50:51.650 +02:00  INF]  Hosting environment: Development
[2023-08-11 12:50:51.650 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 12:50:52.227 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 12:50:52.306 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 79.8889ms
[2023-08-11 12:50:52.369 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - -
[2023-08-11 12:50:52.376 +02:00  INF]  Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[2023-08-11 12:50:52.376 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - - - 0 665 image/png 7.5515ms
[2023-08-11 12:50:52.464 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 12:50:52.543 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.8947ms
[2023-08-11 12:56:29.028 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 12:56:29.100 +02:00  INF]  CORS policy execution successful.
[2023-08-11 12:56:29.100 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 72.8531ms
[2023-08-11 12:56:29.105 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 12:56:29.106 +02:00  INF]  CORS policy execution successful.
[2023-08-11 12:56:29.110 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:29.122 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 12:56:29.922 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 12:56:30.406 +02:00  INF]  Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 12:56:30.551 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 12:56:30.551 +02:00  INF]  CORS policy execution successful.
[2023-08-11 12:56:30.552 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.552 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 12:56:30.577 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 12:56:30.593 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 12:56:30.664 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.714 +02:00  INF]  Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.733 +02:00  INF]  Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.743 +02:00  INF]  Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.763 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 12:56:30.764 +02:00  INF]  CORS policy execution successful.
[2023-08-11 12:56:30.764 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.764 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 12:56:30.770 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 12:56:30.780 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 12:56:30.854 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 12:56:30.854 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 12:56:30.870 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1743.672ms
[2023-08-11 12:56:30.870 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 314.341ms
[2023-08-11 12:56:30.871 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.871 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.871 +02:00  INF]  Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.877 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:30.877 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 12:56:30.878 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 113.7645ms
[2023-08-11 12:56:30.878 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.885 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 334.3005ms
[2023-08-11 12:56:30.885 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1780.2060ms
[2023-08-11 12:56:30.885 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 121.4867ms
[2023-08-11 12:56:30.902 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 12:56:30.902 +02:00  INF]  CORS policy execution successful.
[2023-08-11 12:56:30.902 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:30.902 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 12:56:30.903 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 12:56:30.975 +02:00  INF]  Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 12:56:31.121 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:31.132 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 12:56:31.132 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 12:56:31.132 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 229.9251ms
[2023-08-11 12:56:31.132 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 12:56:31.132 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 230.4432ms
[2023-08-11 13:08:34.863 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:08:34.865 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:08:34.865 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.9044ms
[2023-08-11 13:08:34.867 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:08:34.867 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:08:34.867 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:08:34.867 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:08:34.870 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:08:35.026 +02:00  INF]  Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:08:35.097 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:08:35.125 +02:00  INF]  Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:08:35.127 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:08:35.127 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 259.9495ms
[2023-08-11 13:08:35.128 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:08:35.128 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 260.7767ms
[2023-08-11 13:08:58.489 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:08:58.489 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:08:58.490 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.7657ms
[2023-08-11 13:08:58.527 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:08:58.527 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:08:58.527 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:08:58.527 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:08:58.528 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:08:58.538 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:08:58.616 +02:00  INF]  Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:08:58.690 +02:00  INF]  Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:08:58.693 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:08:58.693 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 165.7686ms
[2023-08-11 13:08:58.693 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:08:58.694 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 166.3800ms
[2023-08-11 13:22:35.977 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:22:35.978 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:35.979 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.2497ms
[2023-08-11 13:22:35.980 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:22:35.980 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:35.980 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:22:35.980 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:22:35.983 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:22:36.133 +02:00  INF]  Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:22:36.227 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:22:36.233 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:22:36.234 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:22:36.234 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 253.6311ms
[2023-08-11 13:22:36.234 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:22:36.234 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 254.5809ms
[2023-08-11 13:22:36.255 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:22:36.255 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:36.259 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:22:36.262 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:22:36.262 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 7.5240ms
[2023-08-11 13:22:36.903 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:22:36.903 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:36.906 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:22:36.907 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:22:36.907 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 4.0575ms
[2023-08-11 13:22:42.557 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:22:42.558 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:42.558 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.0577ms
[2023-08-11 13:22:42.612 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:22:42.613 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:42.613 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:22:42.613 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:22:42.616 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:22:42.629 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:22:42.708 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:22:42.714 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:22:42.714 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:22:42.714 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 101.0747ms
[2023-08-11 13:22:42.714 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:22:42.714 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 102.0974ms
[2023-08-11 13:22:42.743 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:22:42.744 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:22:42.744 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:22:42.744 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:22:42.744 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 0.8420ms
[2023-08-11 13:23:59.222 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 13:23:59.483 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 13:23:59.483 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 13:23:59.483 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 13:23:59.483 +02:00  INF]  Hosting environment: Development
[2023-08-11 13:23:59.483 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 13:24:00.119 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 13:24:00.192 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 74.6219ms
[2023-08-11 13:24:00.252 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - -
[2023-08-11 13:24:00.257 +02:00  INF]  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2023-08-11 13:24:00.257 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - - - 0 628 image/png 5.2980ms
[2023-08-11 13:24:00.344 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 13:24:00.424 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 79.2790ms
[2023-08-11 13:24:05.854 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:24:05.914 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:05.915 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 63.0303ms
[2023-08-11 13:24:05.973 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:24:05.976 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:05.979 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:05.994 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:24:06.745 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:24:07.168 +02:00  INF]  Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:24:07.293 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:07.319 +02:00  INF]  Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:07.402 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:24:07.415 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1418.6291ms
[2023-08-11 13:24:07.416 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:07.425 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1452.5840ms
[2023-08-11 13:24:07.442 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:24:07.443 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:07.446 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:24:07.449 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:24:07.449 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 6.8424ms
[2023-08-11 13:24:13.900 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:24:13.900 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:13.901 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.5654ms
[2023-08-11 13:24:13.924 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:24:13.925 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:13.925 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:13.926 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:24:26.663 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:24:26.794 +02:00  INF]  Executed DbCommand (104ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:24:26.866 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:26.913 +02:00  INF]  Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:26.914 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:24:26.915 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 12988.4941ms
[2023-08-11 13:24:26.915 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:26.915 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 12990.3192ms
[2023-08-11 13:24:26.966 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:24:26.967 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:26.968 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:24:26.968 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:24:26.968 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 1.8310ms
[2023-08-11 13:24:55.063 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:24:55.091 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:55.091 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 28.0534ms
[2023-08-11 13:24:55.121 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:24:55.122 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:55.122 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:55.122 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:24:58.081 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:24:58.089 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:24:58.134 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:58.140 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:24:58.142 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:24:58.142 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 3020.1516ms
[2023-08-11 13:24:58.142 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:24:58.143 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 3020.8755ms
[2023-08-11 13:24:58.167 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:24:58.167 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:24:58.168 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:24:58.168 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:24:58.168 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 0.8974ms
[2023-08-11 13:25:12.283 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:25:12.284 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:12.284 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.7448ms
[2023-08-11 13:25:12.306 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:25:12.306 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:12.307 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:25:12.307 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:25:17.297 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:25:17.305 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:25:17.352 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:25:17.402 +02:00  INF]  Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:25:17.404 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:25:17.404 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 5097.0882ms
[2023-08-11 13:25:17.404 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:25:17.404 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 5098.3487ms
[2023-08-11 13:25:17.441 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:25:17.441 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:17.442 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:25:17.442 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:25:17.442 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 0.5300ms
[2023-08-11 13:25:31.183 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:25:31.184 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:31.185 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.1284ms
[2023-08-11 13:25:31.239 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:25:31.240 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:31.240 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:25:31.240 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:25:44.344 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:25:44.470 +02:00  INF]  Executed DbCommand (74ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:25:44.575 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:25:44.647 +02:00  INF]  Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:25:44.648 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:25:44.649 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 13408.7586ms
[2023-08-11 13:25:44.649 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:25:44.649 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 13409.5365ms
[2023-08-11 13:25:44.694 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:25:44.695 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:25:44.695 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:25:44.695 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:25:44.695 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 0.5006ms
[2023-08-11 13:26:35.425 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:26:35.425 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:35.426 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 0.7844ms
[2023-08-11 13:26:35.435 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:26:35.435 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:35.435 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:26:35.435 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:26:35.436 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 0.4139ms
[2023-08-11 13:26:40.917 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:26:40.918 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:40.919 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.1259ms
[2023-08-11 13:26:40.951 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:26:40.951 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:40.951 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:26:40.951 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:26:44.486 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:26:44.556 +02:00  INF]  Executed DbCommand (48ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:26:44.604 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:26:44.609 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:26:44.610 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:26:44.610 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 3658.5087ms
[2023-08-11 13:26:44.610 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:26:44.610 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 3659.4966ms
[2023-08-11 13:26:44.674 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:26:44.674 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:44.675 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 0.4131ms
[2023-08-11 13:26:44.721 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:26:44.722 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:26:44.722 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:26:44.722 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:26:44.722 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 0.4722ms
[2023-08-11 13:27:00.308 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:27:00.309 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:27:00.309 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.7038ms
[2023-08-11 13:27:00.315 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:27:00.315 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:27:00.316 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:27:00.316 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:27:07.321 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:27:07.333 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:27:07.378 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:27:07.453 +02:00  INF]  Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:27:07.453 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:27:07.454 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 7137.6278ms
[2023-08-11 13:27:07.454 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:27:07.454 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 7138.8452ms
[2023-08-11 13:27:07.488 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:27:07.488 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:27:07.488 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 0.3385ms
[2023-08-11 13:27:07.490 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:27:07.491 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:27:07.491 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:27:07.491 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:27:07.492 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 1.2099ms
[2023-08-11 13:28:38.127 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 13:28:38.160 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 33.2597ms
[2023-08-11 13:28:38.225 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - -
[2023-08-11 13:28:38.232 +02:00  INF]  Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[2023-08-11 13:28:38.232 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - - - 200 665 image/png 7.7535ms
[2023-08-11 13:28:38.295 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 13:28:38.311 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 16.0330ms
[2023-08-11 13:29:18.179 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/?tenant=Khalid - -
[2023-08-11 13:29:18.180 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/?tenant=Khalid - - - 404 0 - 1.3513ms
[2023-08-11 13:29:30.105 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:29:30.106 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:29:30.106 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:29:30.106 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 1.1459ms
[2023-08-11 13:29:36.599 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants?tenant=test - -
[2023-08-11 13:29:36.600 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:29:36.600 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:29:36.600 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants?tenant=test - - - 401 0 - 0.7592ms
[2023-08-11 13:29:38.631 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants?tenant=test - -
[2023-08-11 13:29:38.632 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:29:38.632 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:29:38.632 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants?tenant=test - - - 401 0 - 1.0932ms
[2023-08-11 13:29:49.395 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:29:49.396 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:29:49.396 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:29:49.396 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 1.0117ms
[2023-08-11 13:29:57.818 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:29:57.819 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:29:57.819 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:29:57.819 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 0.8080ms
[2023-08-11 13:30:17.140 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:30:17.141 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:30:17.142 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:30:17.142 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 1.4864ms
[2023-08-11 13:30:23.127 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:30:23.129 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:30:23.129 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:30:23.129 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 2.4398ms
[2023-08-11 13:30:38.425 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:30:38.428 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:30:38.428 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:30:38.428 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 2.7393ms
[2023-08-11 13:30:39.010 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:30:39.010 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:30:39.010 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:30:39.011 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 0.8132ms
[2023-08-11 13:30:39.357 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:30:39.357 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:30:39.357 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:30:39.357 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 401 0 - 0.4091ms
[2023-08-11 13:30:58.480 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 13:30:58.714 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 13:30:58.714 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 13:30:58.714 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 13:30:58.714 +02:00  INF]  Hosting environment: Development
[2023-08-11 13:30:58.714 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 13:30:59.401 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 13:30:59.470 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 69.1291ms
[2023-08-11 13:30:59.552 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 13:30:59.627 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.1367ms
[2023-08-11 13:31:13.003 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65
[2023-08-11 13:31:13.069 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:31:13.083 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:31:16.747 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:31:17.199 +02:00  INF]  Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:31:17.357 +02:00  INF]  Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:31:17.511 +02:00  INF]  Executed DbCommand (148ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:31:17.602 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:31:17.616 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 4530.0157ms
[2023-08-11 13:31:17.617 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:31:17.627 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65 - 200 - application/json;+charset=utf-8 4624.2932ms
[2023-08-11 13:32:23.161 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants text/plain 676
[2023-08-11 13:32:23.179 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:32:23.183 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:32:23.183 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants text/plain 676 - 401 0 - 22.0339ms
[2023-08-11 13:32:24.926 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants text/plain 676
[2023-08-11 13:32:24.932 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:32:24.933 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:32:24.933 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants text/plain 676 - 401 0 - 7.3627ms
[2023-08-11 13:32:34.911 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:32:38.809 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:32:38.810 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:32:38.810 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 3900.1166ms
[2023-08-11 13:32:47.685 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:32:51.828 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:32:51.830 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:32:51.830 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 403 0 - 4146.3226ms
[2023-08-11 13:32:55.590 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:33:02.224 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:33:02.224 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:33:02.224 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 403 0 - 6634.3210ms
[2023-08-11 13:33:06.198 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:33:09.286 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:33:09.286 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:33:09.286 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 403 0 - 3087.8275ms
[2023-08-11 13:33:15.224 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:33:16.710 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:33:16.710 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:33:16.710 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 1486.1835ms
[2023-08-11 13:33:32.766 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:33:49.880 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:33:49.881 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:33:49.881 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 17115.2585ms
[2023-08-11 13:33:59.285 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/Venues application/json 77
[2023-08-11 13:33:59.299 +02:00  INF]  Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
[2023-08-11 13:33:59.323 +02:00  INF]  Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
[2023-08-11 13:33:59.323 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 13:33:59.324 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:33:59.324 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/Venues application/json 77 - 401 0 - 40.6173ms
[2023-08-11 13:34:05.166 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/Venues - 0
[2023-08-11 13:34:07.090 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 13:34:07.090 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:34:07.090 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/Venues - 0 - 403 0 - 1923.6925ms
[2023-08-11 13:35:40.607 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/Venues - 0
[2023-08-11 13:35:43.976 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 13:35:43.976 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:35:43.976 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/Venues - 0 - 403 0 - 3369.2380ms
[2023-08-11 13:40:10.986 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:40:15.196 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:40:15.196 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:40:15.197 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 4210.7410ms
[2023-08-11 13:40:45.294 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:40:47.776 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:40:47.776 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:40:47.776 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 2482.3234ms
[2023-08-11 13:41:02.994 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:41:05.033 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:41:05.033 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:41:05.033 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 2039.8139ms
[2023-08-11 13:41:15.049 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65
[2023-08-11 13:41:15.052 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:41:15.053 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:41:19.280 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:41:19.398 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:41:19.440 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:41:19.469 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:41:19.470 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:41:19.470 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 4416.6402ms
[2023-08-11 13:41:19.470 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:41:19.471 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65 - 200 - application/json;+charset=utf-8 4421.6507ms
[2023-08-11 13:41:24.107 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65
[2023-08-11 13:41:24.118 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:41:24.118 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:41:24.125 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:41:24.133 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:41:24.182 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:41:24.306 +02:00  INF]  Executed DbCommand (123ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:41:24.307 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:41:24.308 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 189.2924ms
[2023-08-11 13:41:24.308 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:41:24.310 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65 - 200 - application/json;+charset=utf-8 200.8066ms
[2023-08-11 13:41:41.521 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:41:41.523 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:41:41.523 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:41:41.523 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 1.9794ms
[2023-08-11 13:41:47.294 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:41:47.296 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:41:47.296 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:41:47.296 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 1.9539ms
[2023-08-11 13:41:57.479 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants?tenant=test - -
[2023-08-11 13:41:57.485 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:41:57.485 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:41:57.485 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants?tenant=test - - - 403 0 - 6.3335ms
[2023-08-11 13:42:01.886 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:42:03.787 +02:00  ERR]  Exception occurred while processing message.
System.Exception: Invalid Tenant!
   at AspNano.Infrastructure.Multitenancy.TenantService..ctor(IHttpContextAccessor httpContextAccessor) in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.Infrastructure/Multitenancy/TenantService.cs:line 43
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AspNano.WebApi.Helper.RegisterServices.<>c.<ConfigureApplicationServices>b__0_5(TokenValidatedContext context) in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Helper/RegisterServices.cs:line 75
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.TokenValidated(TokenValidatedContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
[2023-08-11 13:42:03.788 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.Exception: Invalid Tenant!
   at AspNano.Infrastructure.Multitenancy.TenantService..ctor(IHttpContextAccessor httpContextAccessor) in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.Infrastructure/Multitenancy/TenantService.cs:line 43
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at ResolveService(ILEmitResolverBuilderRuntimeContext, ServiceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at AspNano.WebApi.Helper.RegisterServices.<>c.<ConfigureApplicationServices>b__0_5(TokenValidatedContext context) in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Helper/RegisterServices.cs:line 75
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerEvents.TokenValidated(TokenValidatedContext context)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:42:03.792 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 1906.1715ms
[2023-08-11 13:42:14.858 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:42:14.864 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:42:14.865 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:42:14.865 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 7.2807ms
[2023-08-11 13:42:15.715 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:42:15.719 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root)
[2023-08-11 13:42:15.719 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:42:15.719 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 3.9535ms
[2023-08-11 13:43:00.164 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 13:43:00.423 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 13:43:00.423 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 13:43:00.423 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 13:43:00.423 +02:00  INF]  Hosting environment: Development
[2023-08-11 13:43:00.423 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 13:43:01.095 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 13:43:01.176 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 80.9722ms
[2023-08-11 13:43:01.199 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - -
[2023-08-11 13:43:01.205 +02:00  INF]  Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2023-08-11 13:43:01.205 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/swagger-ui.css - - - 0 143632 text/css 6.6920ms
[2023-08-11 13:43:01.332 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 13:43:01.413 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 80.4347ms
[2023-08-11 13:43:09.298 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:43:09.616 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 13:43:09.617 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:43:09.618 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 320.8762ms
[2023-08-11 13:43:10.701 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:43:10.726 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 13:43:10.727 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 13:43:10.727 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 26.0432ms
[2023-08-11 13:43:45.451 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 13:43:45.690 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 13:43:45.690 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 13:43:45.690 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 13:43:45.690 +02:00  INF]  Hosting environment: Development
[2023-08-11 13:43:45.690 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 13:43:46.297 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 13:43:46.370 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 74.0931ms
[2023-08-11 13:43:46.457 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 13:43:46.535 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.3547ms
[2023-08-11 13:43:52.239 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:43:52.544 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:43:52.550 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:43:52.553 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.6924ms
[2023-08-11 13:43:52.555 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:43:52.556 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:43:52.570 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 331.0235ms
[2023-08-11 13:43:57.230 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65
[2023-08-11 13:43:57.251 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:43:57.262 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:43:57.925 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:43:58.415 +02:00  INF]  Executed DbCommand (65ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:43:58.560 +02:00  INF]  Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:43:58.577 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:43:58.592 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:43:58.602 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1339.5047ms
[2023-08-11 13:43:58.603 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:43:58.610 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65 - 200 - application/json;+charset=utf-8 1380.0407ms
[2023-08-11 13:44:41.982 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65
[2023-08-11 13:44:42.009 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:44:42.010 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:44:42.030 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:44:42.092 +02:00  INF]  Executed DbCommand (60ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:44:42.151 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:44:42.157 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:44:42.158 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:44:42.158 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 148.5195ms
[2023-08-11 13:44:42.159 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:44:42.159 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 65 - 200 - application/json;+charset=utf-8 178.4735ms
[2023-08-11 13:44:52.869 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:44:52.878 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:44:52.879 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:44:52.880 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.6319ms
[2023-08-11 13:44:52.880 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:44:52.882 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:44:52.888 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 19.5067ms
[2023-08-11 13:45:51.616 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:45:51.620 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:45:51.620 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:45:51.621 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.611ms
[2023-08-11 13:45:51.622 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:45:51.626 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:45:51.631 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 11.9702ms
[2023-08-11 13:45:56.532 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:45:56.532 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:45:56.533 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:45:56.533 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.3996ms
[2023-08-11 13:45:56.533 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:45:56.533 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:45:56.534 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 2.3471ms
[2023-08-11 13:50:27.945 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:50:27.953 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:27.953 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:50:27.954 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.5127ms
[2023-08-11 13:50:27.954 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:27.956 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:50:27.958 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 13.1691ms
[2023-08-11 13:50:28.591 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:50:28.593 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:28.593 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:50:28.594 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.586ms
[2023-08-11 13:50:28.594 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:28.595 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:50:28.601 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 10.2069ms
[2023-08-11 13:50:29.187 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:50:29.190 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:29.191 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:50:29.192 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.5216ms
[2023-08-11 13:50:29.192 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:29.193 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:50:29.196 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 7.8301ms
[2023-08-11 13:50:29.533 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:50:29.534 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:29.534 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:50:29.536 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1.0359ms
[2023-08-11 13:50:29.536 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:29.537 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:50:29.539 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 6.3350ms
[2023-08-11 13:50:30.168 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:50:30.170 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:30.170 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:50:30.171 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1.2924ms
[2023-08-11 13:50:30.171 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:50:30.173 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:50:30.176 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 8.1287ms
[2023-08-11 13:50:49.482 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:50:49.483 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:50:49.483 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.7697ms
[2023-08-11 13:50:49.485 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:50:49.485 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:50:49.486 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:50:49.486 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:50:49.494 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:50:49.535 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:50:49.586 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:50:49.590 +02:00  INF]  Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:50:49.591 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:50:49.592 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 106.1826ms
[2023-08-11 13:50:49.592 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:50:49.592 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 106.8619ms
[2023-08-11 13:50:49.623 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:50:49.623 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:50:49.623 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 0.4972ms
[2023-08-11 13:50:49.632 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:50:49.632 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:50:49.633 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin|admin)
[2023-08-11 13:50:49.637 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:50:49.637 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 4.7160ms
[2023-08-11 13:52:08.610 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:52:08.611 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:52:08.611 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 1.6117ms
[2023-08-11 13:52:08.655 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:52:08.660 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:52:08.662 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin|admin)
[2023-08-11 13:52:08.663 +02:00  INF]  AuthenticationScheme: Bearer was challenged.
[2023-08-11 13:52:08.664 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 401 0 - 8.8747ms
[2023-08-11 13:53:10.527 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - -
[2023-08-11 13:53:10.528 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:53:10.529 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tenants - - - 204 - - 1.5496ms
[2023-08-11 13:53:10.541 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:53:10.543 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:53:10.543 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:53:10.543 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:53:10.544 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.8017ms
[2023-08-11 13:53:10.545 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:53:10.545 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:53:10.547 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 500 - text/plain;+charset=utf-8 6.8783ms
[2023-08-11 13:53:11.903 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:53:11.903 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:53:11.903 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.6176ms
[2023-08-11 13:53:11.963 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:53:11.964 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:53:11.964 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:53:11.964 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:53:11.969 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:53:11.984 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:53:12.138 +02:00  INF]  Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:53:12.147 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:53:12.148 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:53:12.148 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 183.8396ms
[2023-08-11 13:53:12.148 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:53:12.148 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 184.8324ms
[2023-08-11 13:53:12.169 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/tenants - -
[2023-08-11 13:53:12.171 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:53:12.171 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:53:12.172 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:53:12.173 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.9262ms
[2023-08-11 13:53:12.173 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:53:12.173 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:53:12.174 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/tenants - - - 500 - text/plain;+charset=utf-8 5.4685ms
[2023-08-11 13:56:54.733 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 13:56:54.734 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:56:54.734 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.9645ms
[2023-08-11 13:56:54.737 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:56:54.738 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:56:54.738 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:56:54.738 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:56:54.740 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1.342ms
[2023-08-11 13:56:54.740 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:56:54.740 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:56:54.741 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 4.3096ms
[2023-08-11 13:56:59.289 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:56:59.289 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:56:59.290 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.6103ms
[2023-08-11 13:56:59.292 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:56:59.293 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:56:59.293 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:56:59.293 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:56:59.297 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:56:59.359 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:56:59.474 +02:00  INF]  Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:56:59.521 +02:00  INF]  Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:56:59.547 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:56:59.547 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 254.396ms
[2023-08-11 13:56:59.548 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:56:59.548 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 255.2155ms
[2023-08-11 13:56:59.571 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:56:59.572 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:56:59.572 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:56:59.572 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:56:59.572 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2841ms
[2023-08-11 13:56:59.572 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:56:59.572 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:56:59.573 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 2.3021ms
[2023-08-11 13:59:04.176 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 13:59:04.177 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:59:04.177 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.5305ms
[2023-08-11 13:59:04.180 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 13:59:04.180 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:59:04.181 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:59:04.181 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 13:59:04.183 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 13:59:04.193 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 13:59:04.242 +02:00  INF]  Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:59:04.251 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 13:59:04.251 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 13:59:04.251 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 70.5062ms
[2023-08-11 13:59:04.251 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 13:59:04.251 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 71.4386ms
[2023-08-11 13:59:04.281 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 13:59:04.281 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:59:04.281 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3630ms
[2023-08-11 13:59:04.287 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 13:59:14.556 +02:00  INF]  CORS policy execution successful.
[2023-08-11 13:59:14.556 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:59:14.556 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 13:59:14.557 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.4019ms
[2023-08-11 13:59:14.557 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 13:59:14.557 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method23(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 13:59:14.558 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 10271.4734ms
[2023-08-11 14:00:06.360 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:47:28.197 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:47:28.198 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:47:28.198 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:47:28.198 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:47:28.198 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:47:32.510 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:47:32.590 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:47:32.598 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 89.0513ms
[2023-08-11 14:47:32.600 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:47:32.603 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:47:32.605 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:47:32.618 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:47:33.423 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:47:33.871 +02:00  INF]  Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:47:34.002 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:47:34.011 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:47:34.098 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:47:34.120 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1498.374ms
[2023-08-11 14:47:34.121 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:47:34.131 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1530.4812ms
[2023-08-11 14:47:34.141 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:47:34.143 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:47:34.143 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.3145ms
[2023-08-11 14:47:34.169 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:47:34.212 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:47:34.214 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:47:34.215 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:47:34.216 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.4695ms
[2023-08-11 14:47:34.216 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:47:34.216 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:47:34.234 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 65.6422ms
[2023-08-11 14:48:35.764 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:48:37.893 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:48:37.893 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:48:37.894 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:48:37.894 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:48:37.894 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:48:56.754 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:48:56.833 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:48:56.842 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 88.6013ms
[2023-08-11 14:48:56.846 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:48:56.847 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:48:56.850 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:48:56.862 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:48:57.668 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:48:58.148 +02:00  INF]  Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:48:58.286 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:48:58.296 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:48:58.378 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:48:58.398 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1533.8172ms
[2023-08-11 14:48:58.399 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:48:58.410 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1564.2494ms
[2023-08-11 14:48:58.450 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:48:58.452 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:48:58.452 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.3282ms
[2023-08-11 14:48:58.461 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:48:58.506 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:48:58.508 +02:00  INF]  Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (root|admin)
[2023-08-11 14:48:58.510 +02:00  INF]  AuthenticationScheme: Bearer was forbidden.
[2023-08-11 14:48:58.510 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 403 0 - 48.4172ms
[2023-08-11 14:50:02.851 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:50:03.112 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:50:03.113 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:50:03.113 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:50:03.113 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:50:03.113 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:50:03.761 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:50:03.836 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 75.3675ms
[2023-08-11 14:50:03.893 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - -
[2023-08-11 14:50:03.897 +02:00  INF]  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2023-08-11 14:50:03.898 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - - - 0 628 image/png 4.7596ms
[2023-08-11 14:50:03.988 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:50:04.069 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 80.5409ms
[2023-08-11 14:50:07.458 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:50:07.520 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:07.520 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 62.2198ms
[2023-08-11 14:50:07.606 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:50:07.607 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:07.611 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:07.626 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:50:08.409 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:50:08.859 +02:00  INF]  Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:50:09.000 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:09.010 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:09.091 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:50:09.105 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1475.1223ms
[2023-08-11 14:50:09.106 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:09.116 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1510.2397ms
[2023-08-11 14:50:09.167 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:09.168 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:09.168 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.1922ms
[2023-08-11 14:50:09.222 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:09.266 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:09.266 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:09.268 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:50:09.268 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2436ms
[2023-08-11 14:50:09.268 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:09.268 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:50:09.282 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 59.7144ms
[2023-08-11 14:50:28.719 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:50:28.960 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:50:28.960 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:50:28.960 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:50:28.961 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:50:28.961 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:50:29.510 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:50:29.589 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 79.4840ms
[2023-08-11 14:50:29.679 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:50:29.757 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.3848ms
[2023-08-11 14:50:35.366 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:50:35.425 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:35.426 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 60.1366ms
[2023-08-11 14:50:35.439 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:50:35.440 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:35.443 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:35.456 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:50:36.217 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:50:36.677 +02:00  INF]  Executed DbCommand (43ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:50:36.815 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:36.833 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:36.922 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:50:36.936 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1475.9717ms
[2023-08-11 14:50:36.937 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:36.947 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1508.2391ms
[2023-08-11 14:50:36.964 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:36.968 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:36.968 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 4.3013ms
[2023-08-11 14:50:36.971 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:37.013 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:37.013 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:37.014 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:50:37.015 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2827ms
[2023-08-11 14:50:37.015 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:37.015 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:50:37.028 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 57.1057ms
[2023-08-11 14:50:58.466 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:50:58.468 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:58.468 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.9922ms
[2023-08-11 14:50:58.507 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:50:58.508 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:58.508 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:58.509 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:50:58.594 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:50:58.624 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:50:58.762 +02:00  INF]  Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:58.794 +02:00  INF]  Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:50:58.795 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:50:58.796 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 286.4434ms
[2023-08-11 14:50:58.796 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:50:58.796 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 288.8818ms
[2023-08-11 14:50:58.823 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:58.823 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:58.823 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5850ms
[2023-08-11 14:50:58.830 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:50:58.832 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:50:58.832 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:58.832 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:50:58.833 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.4614ms
[2023-08-11 14:50:58.833 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:50:58.834 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:50:58.836 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 6.0321ms
[2023-08-11 14:51:42.099 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:42.103 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:42.104 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 4.7717ms
[2023-08-11 14:51:42.139 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:42.144 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:42.145 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:42.145 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:42.146 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.6295ms
[2023-08-11 14:51:42.146 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:42.148 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:42.152 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 13.1904ms
[2023-08-11 14:51:48.481 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:48.482 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:48.482 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.3093ms
[2023-08-11 14:51:48.484 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:48.485 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:48.485 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:48.486 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:48.490 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 4.3748ms
[2023-08-11 14:51:48.491 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:48.491 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:48.493 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 8.8518ms
[2023-08-11 14:51:50.424 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:50.425 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:50.425 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:50.425 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:50.426 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.6482ms
[2023-08-11 14:51:50.426 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:50.427 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:50.430 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 6.0525ms
[2023-08-11 14:51:52.211 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:52.213 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:52.213 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:52.213 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:52.213 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2797ms
[2023-08-11 14:51:52.213 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:52.214 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:52.214 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 3.1083ms
[2023-08-11 14:51:53.426 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:51:53.426 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:53.427 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.6152ms
[2023-08-11 14:51:53.492 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:51:53.493 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:53.493 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:51:53.493 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:51:53.510 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:51:53.524 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:51:53.593 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:51:53.633 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:51:53.634 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:51:53.634 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 141.054ms
[2023-08-11 14:51:53.634 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:51:53.634 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 141.9696ms
[2023-08-11 14:51:53.653 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:53.653 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:53.653 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3435ms
[2023-08-11 14:51:53.656 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:53.656 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:53.657 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:53.657 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:53.657 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2545ms
[2023-08-11 14:51:53.657 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:53.657 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:53.658 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 2.2268ms
[2023-08-11 14:51:57.189 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:51:57.190 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:57.190 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:51:57.190 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:51:57.192 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:51:57.223 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:51:57.298 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:51:57.309 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:51:57.310 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:51:57.310 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 119.6017ms
[2023-08-11 14:51:57.310 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:51:57.310 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 121.6539ms
[2023-08-11 14:51:57.328 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:51:57.339 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:51:57.339 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:57.339 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:51:57.340 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.2792ms
[2023-08-11 14:51:57.340 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:51:57.340 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:51:57.341 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 12.8471ms
[2023-08-11 14:52:20.519 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:52:20.519 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:52:20.519 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5932ms
[2023-08-11 14:52:20.540 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:52:20.541 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:52:20.541 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:52:20.542 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:52:20.542 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.5007ms
[2023-08-11 14:52:20.542 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:52:20.543 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:52:20.544 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 4.6723ms
[2023-08-11 14:54:23.120 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:54:23.381 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:54:23.382 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:54:23.382 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:54:23.382 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:54:23.382 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:54:23.698 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:54:23.774 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 76.6308ms
[2023-08-11 14:54:23.840 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - -
[2023-08-11 14:54:23.845 +02:00  INF]  Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2023-08-11 14:54:23.845 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-32x32.png - - - 0 628 image/png 4.9548ms
[2023-08-11 14:54:23.931 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:54:24.014 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 83.4273ms
[2023-08-11 14:54:27.059 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:54:27.119 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:27.120 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 61.6713ms
[2023-08-11 14:54:27.123 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:54:27.125 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:27.128 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:27.141 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:54:27.904 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:54:28.327 +02:00  INF]  Executed DbCommand (41ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:54:28.456 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:28.466 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:28.545 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:54:28.558 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1413.8093ms
[2023-08-11 14:54:28.559 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:28.568 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1445.2684ms
[2023-08-11 14:54:28.628 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:54:28.630 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:28.630 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.4662ms
[2023-08-11 14:54:28.635 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:54:28.677 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:28.677 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:54:28.679 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:54:28.679 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.3493ms
[2023-08-11 14:54:28.679 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:54:28.680 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:54:28.693 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 58.8771ms
[2023-08-11 14:54:42.862 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:54:43.120 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:54:43.121 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:54:43.121 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:54:43.121 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:54:43.121 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:54:43.402 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:54:43.480 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 78.8958ms
[2023-08-11 14:54:43.562 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:54:43.639 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.1727ms
[2023-08-11 14:54:49.950 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:54:50.012 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:50.013 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 63.2921ms
[2023-08-11 14:54:50.027 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:54:50.030 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:50.032 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:50.045 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:54:50.232 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:54:50.232 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:50.233 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:50.233 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:54:50.857 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:54:50.857 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:54:51.298 +02:00  INF]  Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:54:51.298 +02:00  INF]  Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:54:51.454 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:51.454 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:51.466 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:51.466 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:54:51.549 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:54:51.549 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:54:51.563 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1327.4012ms
[2023-08-11 14:54:51.563 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1514.926ms
[2023-08-11 14:54:51.564 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:51.564 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:54:51.574 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1547.0040ms
[2023-08-11 14:54:51.574 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1342.2392ms
[2023-08-11 14:54:51.630 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:54:51.630 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:51.631 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.4236ms
[2023-08-11 14:54:51.632 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:54:51.670 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:54:51.670 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:54:51.671 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:54:51.671 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.264ms
[2023-08-11 14:54:51.671 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:54:51.672 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.WebApi.Multitenancy.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method299(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:54:51.686 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 53.4047ms
[2023-08-11 14:55:27.903 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:55:28.223 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:55:28.223 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:55:28.223 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:55:28.223 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:55:28.223 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:55:28.770 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:55:28.843 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 74.0164ms
[2023-08-11 14:55:28.923 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:55:29.001 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.8004ms
[2023-08-11 14:55:34.110 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:55:34.200 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:34.201 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 91.2650ms
[2023-08-11 14:55:34.229 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:55:34.230 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:34.235 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:34.249 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:55:34.990 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:55:35.355 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:55:35.356 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:35.356 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:35.356 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:55:35.382 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:55:35.468 +02:00  INF]  Executed DbCommand (68ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:55:35.468 +02:00  INF]  Executed DbCommand (46ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:55:35.605 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:35.605 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:35.619 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:35.619 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:35.709 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:55:35.709 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:55:35.724 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1472.0684ms
[2023-08-11 14:55:35.724 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 364.6772ms
[2023-08-11 14:55:35.725 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:35.725 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:35.736 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1507.4201ms
[2023-08-11 14:55:35.736 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 381.1361ms
[2023-08-11 14:55:35.750 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:55:35.751 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:35.751 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5009ms
[2023-08-11 14:55:35.755 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:55:35.791 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:35.791 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:55:35.792 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:55:39.243 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 3452.9844ms
[2023-08-11 14:55:39.243 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:55:39.244 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNano.WebApi.Multitenancy.TenantService.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Multitenancy/TenantService.cs:line 65
   at AspNano.WebApi.Controllers.TenantsController.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Controllers/TenantsController.cs:line 30
   at lambda_method295(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:55:39.264 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 3510.9045ms
[2023-08-11 14:55:49.203 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:55:49.204 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:49.205 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.1201ms
[2023-08-11 14:55:49.206 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:55:49.207 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:49.207 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:49.207 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:55:49.225 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:55:49.237 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:55:49.298 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:49.372 +02:00  INF]  Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:55:49.373 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:55:49.373 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 166.3975ms
[2023-08-11 14:55:49.373 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:55:49.374 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 167.3037ms
[2023-08-11 14:55:49.392 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:55:49.392 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:49.393 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3400ms
[2023-08-11 14:55:49.398 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:55:49.399 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:55:49.399 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:55:49.399 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:56:42.444 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 14:56:42.714 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 14:56:42.715 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 14:56:42.715 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 14:56:42.715 +02:00  INF]  Hosting environment: Development
[2023-08-11 14:56:42.715 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 14:56:43.254 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 14:56:43.325 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 71.7810ms
[2023-08-11 14:56:43.404 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 14:56:43.479 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 74.6992ms
[2023-08-11 14:56:45.946 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:56:46.046 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:46.047 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 101.5852ms
[2023-08-11 14:56:46.051 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:56:46.054 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:46.056 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:56:46.071 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:56:46.076 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:56:46.076 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:46.076 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.9511ms
[2023-08-11 14:56:46.080 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:56:46.080 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:46.080 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:56:46.080 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:56:46.873 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:56:46.873 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:56:47.325 +02:00  INF]  Executed DbCommand (62ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:56:47.325 +02:00  INF]  Executed DbCommand (49ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:56:47.480 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:56:47.480 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:56:47.515 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:56:47.515 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:56:47.600 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:56:47.600 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:56:47.614 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1530.863ms
[2023-08-11 14:56:47.614 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1540.0584ms
[2023-08-11 14:56:47.615 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:56:47.615 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:56:47.624 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1573.6835ms
[2023-08-11 14:56:47.624 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1544.7225ms
[2023-08-11 14:56:47.644 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:56:47.644 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:47.644 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3931ms
[2023-08-11 14:56:47.646 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:56:47.685 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:56:47.685 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:56:47.686 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:57:58.920 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:57:58.924 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 71237.2602ms
[2023-08-11 14:57:58.932 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:58.932 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 12.2156ms
[2023-08-11 14:57:58.932 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:57:59.023 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:57:59.024 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:59.024 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:57:59.024 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:57:59.024 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNano.WebApi.Multitenancy.TenantService.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Multitenancy/TenantService.cs:line 65
   at AspNano.WebApi.Controllers.TenantsController.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Controllers/TenantsController.cs:line 30
   at lambda_method304(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:57:59.128 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:57:59.151 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:59.151 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 22.6010ms
[2023-08-11 14:57:59.152 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:57:59.153 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:59.153 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:57:59.153 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:57:59.154 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 71508.3034ms
[2023-08-11 14:57:59.158 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:57:59.158 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:57:59.169 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:57:59.169 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:57:59.280 +02:00  INF]  Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:57:59.288 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:57:59.291 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:57:59.291 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:57:59.291 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 267.3975ms
[2023-08-11 14:57:59.291 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:57:59.291 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 293.6578ms
[2023-08-11 14:57:59.304 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:57:59.305 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:57:59.305 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 152.0801ms
[2023-08-11 14:57:59.305 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:57:59.305 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 152.4887ms
[2023-08-11 14:57:59.351 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:57:59.351 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:59.351 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5785ms
[2023-08-11 14:57:59.353 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:57:59.354 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:57:59.354 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:57:59.354 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:58:01.030 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1675.9519ms
[2023-08-11 14:58:01.030 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:58:01.030 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNano.WebApi.Multitenancy.TenantService.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Multitenancy/TenantService.cs:line 65
   at AspNano.WebApi.Controllers.TenantsController.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Controllers/TenantsController.cs:line 30
   at lambda_method304(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:58:01.032 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 1678.9327ms
[2023-08-11 14:58:06.501 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 14:58:06.503 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:58:06.504 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.6484ms
[2023-08-11 14:58:06.582 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 14:58:06.582 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:58:06.583 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:58:06.583 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 14:58:06.586 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 14:58:06.601 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 14:58:06.686 +02:00  INF]  Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:58:06.738 +02:00  INF]  Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 14:58:06.739 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 14:58:06.739 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 156.3696ms
[2023-08-11 14:58:06.739 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 14:58:06.739 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 157.6463ms
[2023-08-11 14:58:06.757 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 14:58:06.757 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:58:06.757 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3700ms
[2023-08-11 14:58:06.759 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 14:58:06.759 +02:00  INF]  CORS policy execution successful.
[2023-08-11 14:58:06.759 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:58:06.759 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 14:58:08.077 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1317.832ms
[2023-08-11 14:58:08.078 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 14:58:08.078 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNano.WebApi.Multitenancy.TenantService.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Multitenancy/TenantService.cs:line 65
   at AspNano.WebApi.Controllers.TenantsController.GetTenants() in /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi/Controllers/TenantsController.cs:line 30
   at lambda_method304(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 14:58:08.079 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 1320.3212ms
[2023-08-11 15:59:00.430 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 15:59:00.678 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 15:59:00.678 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 15:59:00.678 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 15:59:00.678 +02:00  INF]  Hosting environment: Development
[2023-08-11 15:59:00.678 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 15:59:01.223 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 15:59:01.306 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 83.5910ms
[2023-08-11 15:59:01.394 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 15:59:01.476 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 81.8506ms
[2023-08-11 15:59:03.851 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 15:59:03.926 +02:00  INF]  CORS policy execution successful.
[2023-08-11 15:59:03.927 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 75.7903ms
[2023-08-11 15:59:03.929 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 15:59:03.930 +02:00  INF]  CORS policy execution successful.
[2023-08-11 15:59:03.934 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 15:59:03.947 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 15:59:04.729 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 15:59:05.165 +02:00  INF]  Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 15:59:05.293 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 15:59:05.309 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 15:59:05.392 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 15:59:05.405 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1454.7813ms
[2023-08-11 15:59:05.406 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 15:59:05.416 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1486.9535ms
[2023-08-11 15:59:05.522 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 15:59:05.523 +02:00  INF]  CORS policy execution successful.
[2023-08-11 15:59:05.523 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.9032ms
[2023-08-11 15:59:05.525 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 15:59:05.567 +02:00  INF]  CORS policy execution successful.
[2023-08-11 15:59:05.567 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 15:59:05.569 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 15:59:05.570 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 1.705ms
[2023-08-11 15:59:05.571 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 15:59:05.571 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.Application.Services.TenantService.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 15:59:05.585 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 60.4327ms
[2023-08-11 15:59:49.740 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 15:59:49.980 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 15:59:49.980 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 15:59:49.981 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 15:59:49.981 +02:00  INF]  Hosting environment: Development
[2023-08-11 15:59:49.981 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 15:59:50.202 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 15:59:50.276 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 74.6947ms
[2023-08-11 15:59:50.362 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 15:59:50.439 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.2237ms
[2023-08-11 16:06:51.586 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-11 16:06:51.828 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-11 16:06:51.828 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-11 16:06:51.828 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-11 16:06:51.828 +02:00  INF]  Hosting environment: Development
[2023-08-11 16:06:51.828 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/dotnet-projects/AspNano-master/AspNano/AspNano.WebApi
[2023-08-11 16:06:52.532 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-11 16:06:52.601 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 69.4400ms
[2023-08-11 16:06:52.691 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-11 16:06:52.769 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.6885ms
[2023-08-11 16:06:58.055 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-11 16:06:58.143 +02:00  INF]  CORS policy execution successful.
[2023-08-11 16:06:58.143 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 88.9688ms
[2023-08-11 16:06:58.145 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-11 16:06:58.146 +02:00  INF]  CORS policy execution successful.
[2023-08-11 16:06:58.149 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 16:06:58.162 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, AspNano.DTOs.AuthDTOs.TokenRequest) on controller AspNano.WebApi.Controllers.TokensController (AspNano.WebApi).
[2023-08-11 16:06:58.969 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-11 16:06:59.397 +02:00  INF]  Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-11 16:06:59.555 +02:00  INF]  Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 16:06:59.619 +02:00  INF]  Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-11 16:06:59.704 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`5[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-11 16:06:59.718 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi) in 1538.3743ms
[2023-08-11 16:06:59.719 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TokensController.Login (AspNano.WebApi)'
[2023-08-11 16:06:59.729 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1583.7045ms
[2023-08-11 16:06:59.748 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-11 16:06:59.750 +02:00  INF]  CORS policy execution successful.
[2023-08-11 16:06:59.750 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.4552ms
[2023-08-11 16:06:59.751 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-11 16:06:59.793 +02:00  INF]  CORS policy execution successful.
[2023-08-11 16:06:59.793 +02:00  INF]  Executing endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 16:06:59.795 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[AspNano.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller AspNano.WebApi.Controllers.TenantsController (AspNano.WebApi).
[2023-08-11 16:06:59.795 +02:00  INF]  Executed action AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi) in 0.3527ms
[2023-08-11 16:06:59.795 +02:00  INF]  Executed endpoint 'AspNano.WebApi.Controllers.TenantsController.GetTenants (AspNano.WebApi)'
[2023-08-11 16:06:59.795 +02:00  ERR]  An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AspNano.Application.Services.TenantService.ITenantService' while attempting to activate 'AspNano.WebApi.Controllers.TenantsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method191(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
[2023-08-11 16:06:59.809 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 500 - text/plain;+charset=utf-8 58.0684ms
