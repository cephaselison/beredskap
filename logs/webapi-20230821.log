[2023-08-21 09:10:10.715 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 09:10:11.146 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 09:10:11.146 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 09:10:11.147 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 09:10:11.147 +02:00  INF]  Hosting environment: Development
[2023-08-21 09:10:11.147 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 10:16:59.116 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 10:16:59.363 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 10:16:59.363 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 10:16:59.364 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 10:16:59.364 +02:00  INF]  Hosting environment: Development
[2023-08-21 10:16:59.364 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 10:17:00.113 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-21 10:17:00.186 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 73.5542ms
[2023-08-21 10:17:00.273 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-21 10:17:00.355 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 81.8498ms
[2023-08-21 10:17:10.285 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 10:17:10.370 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:10.371 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 85.7812ms
[2023-08-21 10:17:10.464 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 10:17:10.466 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:10.469 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 10:17:10.497 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 10:17:11.325 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:17:11.781 +02:00  INF]  Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 10:17:11.955 +02:00  INF]  Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 10:17:12.009 +02:00  INF]  Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 10:17:12.098 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 10:17:12.118 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 1618.8316ms
[2023-08-21 10:17:12.119 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 10:17:12.128 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1665.4053ms
[2023-08-21 10:17:12.146 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 10:17:12.147 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:12.147 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 1.2227ms
[2023-08-21 10:17:12.148 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 10:17:12.190 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:12.190 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 10:17:12.191 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 10:17:12.289 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:17:12.299 +02:00  INF]  Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 10:17:12.317 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 10:17:12.318 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 126.9069ms
[2023-08-21 10:17:12.318 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 10:17:12.318 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 169.9835ms
[2023-08-21 10:17:12.926 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:17:12.952 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:12.953 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 27.1760ms
[2023-08-21 10:17:12.996 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 10:17:12.996 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:12.996 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:17:12.996 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.5470ms
[2023-08-21 10:17:13.000 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 10:17:13.004 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:13.004 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:13.004 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 10:17:13.004 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 10:17:13.006 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 10:17:13.006 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 10:17:13.013 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:17:13.013 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:17:13.047 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 10:17:13.049 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 10:17:13.050 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 43.6112ms
[2023-08-21 10:17:13.050 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 10:17:13.050 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 200 - application/json;+charset=utf-8 53.5685ms
[2023-08-21 10:17:13.057 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 10:17:45.104 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 10:17:45.333 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 10:17:45.333 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 10:17:45.334 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 10:17:45.334 +02:00  INF]  Hosting environment: Development
[2023-08-21 10:17:45.334 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 10:17:45.967 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-21 10:17:46.036 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 69.2179ms
[2023-08-21 10:17:46.121 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-21 10:17:46.199 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 78.0555ms
[2023-08-21 10:17:53.503 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 10:17:53.503 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:17:53.566 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:53.566 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:53.567 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 63.9583ms
[2023-08-21 10:17:53.568 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:17:53.569 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 65.9307ms
[2023-08-21 10:17:53.570 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 10:17:53.783 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:53.783 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:17:53.786 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 10:17:53.786 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 10:17:53.794 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 10:17:53.795 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 10:18:12.233 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:18:12.233 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 10:18:12.677 +02:00  INF]  Executed DbCommand (19ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 10:18:12.678 +02:00  INF]  Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 10:25:24.048 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 10:25:24.050 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 10:25:24.126 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 450321.2447ms
[2023-08-21 10:25:24.128 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 10:25:24.135 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 450336.5499ms
[2023-08-21 10:25:24.135 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 10:25:24.139 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 0 - application/json;+charset=utf-8 450564.9595ms
[2023-08-21 10:25:24.139 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 0 - application/json;+charset=utf-8 450566.7535ms
[2023-08-21 10:25:24.167 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:25:24.167 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 10:25:24.167 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:25:24.167 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:25:24.168 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 0.4531ms
[2023-08-21 10:25:24.168 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.3997ms
[2023-08-21 10:25:24.169 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 10:25:24.169 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 10:25:24.172 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:25:24.172 +02:00  INF]  CORS policy execution successful.
[2023-08-21 10:25:24.172 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 10:25:24.172 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 10:25:24.172 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 10:25:24.172 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 12:19:44.215 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 12:19:44.467 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 12:19:44.467 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 12:19:44.468 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 12:19:44.468 +02:00  INF]  Hosting environment: Development
[2023-08-21 12:19:44.468 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 12:20:42.313 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-21 12:20:42.380 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 67.9517ms
[2023-08-21 12:20:42.457 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-21 12:20:42.538 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 80.8702ms
[2023-08-21 12:22:15.546 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:22:15.633 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:15.634 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 87.7225ms
[2023-08-21 12:22:15.637 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:22:15.639 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:15.644 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:15.657 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:22:16.482 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:22:16.907 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:22:16.929 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:17.003 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 1341.8061ms
[2023-08-21 12:22:17.006 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:17.011 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:17.032 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 1396.2967ms
[2023-08-21 12:22:19.399 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:22:19.401 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:19.401 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:19.401 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:22:19.450 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:22:19.455 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:22:19.455 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:19.527 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 125.2558ms
[2023-08-21 12:22:19.527 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:19.527 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:444151a0-e7f0-4ca9-bd1c-e5c78bb3a91c
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:19.530 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 131.3684ms
[2023-08-21 12:22:29.320 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:22:29.321 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:29.322 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.7715ms
[2023-08-21 12:22:29.359 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:22:29.359 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:29.360 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:29.360 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:22:29.386 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:22:29.499 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:22:29.503 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e4cd866d-b8c1-4c64-a5ae-0e8f6bc1615a
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:e4cd866d-b8c1-4c64-a5ae-0e8f6bc1615a
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:29.525 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 165.1494ms
[2023-08-21 12:22:29.525 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:29.526 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:e4cd866d-b8c1-4c64-a5ae-0e8f6bc1615a
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:29.529 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 170.3894ms
[2023-08-21 12:22:43.527 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:22:43.528 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:43.528 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.7540ms
[2023-08-21 12:22:43.782 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:22:43.783 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:22:43.783 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:43.785 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:22:43.790 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:22:43.854 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:22:43.858 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0adfc0b0-3cb6-4d5b-b80f-bcf68842d5db
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0adfc0b0-3cb6-4d5b-b80f-bcf68842d5db
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:43.883 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 97.3266ms
[2023-08-21 12:22:43.883 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:22:43.883 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:0adfc0b0-3cb6-4d5b-b80f-bcf68842d5db
Error Number:18456,State:1,Class:14
[2023-08-21 12:22:43.886 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 104.6868ms
[2023-08-21 12:51:23.672 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:51:23.676 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:23.676 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 4.2724ms
[2023-08-21 12:51:23.680 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:51:23.681 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:23.681 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:23.681 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:51:23.684 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:51:23.748 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:51:23.751 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1c2f8d88-833b-4a73-80a9-a5b3745c435a
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1c2f8d88-833b-4a73-80a9-a5b3745c435a
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:23.774 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 93.1772ms
[2023-08-21 12:51:23.775 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:23.775 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:1c2f8d88-833b-4a73-80a9-a5b3745c435a
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:23.779 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 97.6118ms
[2023-08-21 12:51:35.722 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:51:35.723 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:35.723 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.0572ms
[2023-08-21 12:51:35.789 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:51:35.789 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:35.789 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:35.789 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:51:35.791 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:51:35.903 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:51:35.906 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4b9025af-c155-452b-a317-4a7679bb89f3
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:4b9025af-c155-452b-a317-4a7679bb89f3
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:35.941 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 151.196ms
[2023-08-21 12:51:35.941 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:35.941 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:4b9025af-c155-452b-a317-4a7679bb89f3
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:35.946 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 157.3950ms
[2023-08-21 12:51:42.636 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:51:42.636 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:42.636 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 0.7507ms
[2023-08-21 12:51:42.638 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:51:42.638 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:42.639 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:42.639 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:51:42.641 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:51:42.778 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:51:42.782 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:42.822 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 182.6618ms
[2023-08-21 12:51:42.822 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:42.822 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:42.826 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 187.7664ms
[2023-08-21 12:51:48.131 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 12:51:48.132 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:48.132 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.5359ms
[2023-08-21 12:51:48.160 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 12:51:48.160 +02:00  INF]  CORS policy execution successful.
[2023-08-21 12:51:48.160 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:48.161 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 12:51:48.164 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 12:51:48.165 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 12:51:48.168 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:48.193 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 32.5495ms
[2023-08-21 12:51:48.194 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 12:51:48.194 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.OpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:eb89e539-cd31-48a7-af1c-9dc997f95aa8
Error Number:18456,State:1,Class:14
[2023-08-21 12:51:48.197 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 37.2742ms
[2023-08-21 13:00:10.918 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:00:10.919 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:00:10.920 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 1.8872ms
[2023-08-21 13:00:10.924 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:00:10.925 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:00:10.925 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:00:10.925 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:00:10.928 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:00:11.017 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 13:00:11.018 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:80a7ff0c-4aeb-4c56-b4e9-76103d08f9d8
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:80a7ff0c-4aeb-4c56-b4e9-76103d08f9d8
Error Number:18456,State:1,Class:14
[2023-08-21 13:00:11.044 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 118.6815ms
[2023-08-21 13:00:11.044 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:00:11.044 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:80a7ff0c-4aeb-4c56-b4e9-76103d08f9d8
Error Number:18456,State:1,Class:14
[2023-08-21 13:00:11.047 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 122.9007ms
[2023-08-21 13:04:46.175 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:04:46.176 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:04:46.177 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.3830ms
[2023-08-21 13:04:46.180 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:04:46.181 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:04:46.181 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:04:46.181 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:04:46.183 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:04:46.300 +02:00  ERR]  An error occurred using the connection to database 'Site-1' on server '127.0.0.1'.
[2023-08-21 13:04:46.301 +02:00  ERR]  An exception occurred while iterating over the results of a query for context type 'Beredskap.Infrastructure.Persistence.ApplicationDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b06800d3-bea0-4ba9-842c-db59ad67b61f
Error Number:18456,State:1,Class:14
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:b06800d3-bea0-4ba9-842c-db59ad67b61f
Error Number:18456,State:1,Class:14
[2023-08-21 13:04:46.325 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 144.3194ms
[2023-08-21 13:04:46.326 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:04:46.326 +02:00  ERR]  An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Login failed for user 'sa'.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at Beredskap.WebApi.Controllers.TokensController.Login(String tenant, TokenRequest request) in /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi/Controllers/TokensController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:b06800d3-bea0-4ba9-842c-db59ad67b61f
Error Number:18456,State:1,Class:14
[2023-08-21 13:04:46.329 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 500 - text/plain;+charset=utf-8 148.6573ms
[2023-08-21 13:06:47.904 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 13:06:48.194 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 13:06:48.194 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 13:06:48.195 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 13:06:48.195 +02:00  INF]  Hosting environment: Development
[2023-08-21 13:06:48.195 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 13:06:48.697 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-21 13:06:48.775 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 78.3629ms
[2023-08-21 13:06:48.848 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - -
[2023-08-21 13:06:48.853 +02:00  INF]  Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
[2023-08-21 13:06:48.853 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/favicon-16x16.png - - - 0 665 image/png 5.4868ms
[2023-08-21 13:06:48.921 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-21 13:06:49.003 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 82.1427ms
[2023-08-21 13:06:51.277 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:06:51.352 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:51.353 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 76.5765ms
[2023-08-21 13:06:51.357 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:06:51.358 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:51.360 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:06:51.373 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:06:52.152 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:06:52.606 +02:00  INF]  Executed DbCommand (40ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:06:52.633 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:06:52.634 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:52.634 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:06:52.634 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:06:52.658 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:06:52.754 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:06:52.872 +02:00  INF]  Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:06:52.872 +02:00  INF]  Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:06:52.896 +02:00  INF]  Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:06:52.896 +02:00  INF]  Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:06:52.988 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:06:52.988 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:06:53.011 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 372.8212ms
[2023-08-21 13:06:53.011 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 1634.2915ms
[2023-08-21 13:06:53.012 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:06:53.012 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:06:53.023 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 389.4325ms
[2023-08-21 13:06:53.023 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1666.0539ms
[2023-08-21 13:06:53.080 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:06:53.081 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:53.081 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.4327ms
[2023-08-21 13:06:53.085 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:06:53.122 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:53.122 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:06:53.124 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:06:53.214 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:06:53.255 +02:00  INF]  Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:06:53.272 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:06:53.273 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 149.0794ms
[2023-08-21 13:06:53.273 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:06:53.273 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 188.0640ms
[2023-08-21 13:06:54.205 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:06:54.205 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:54.206 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:06:54.206 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:54.206 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 1.7784ms
[2023-08-21 13:06:54.206 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 1.7847ms
[2023-08-21 13:06:54.211 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:06:54.211 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:06:54.213 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:54.213 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:06:54.213 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:06:54.213 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:06:54.219 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:06:54.220 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:06:54.225 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:03.788 +02:00  INF]  User profile is available. Using '/Users/cephasjonsson/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
[2023-08-21 13:07:04.025 +02:00  INF]  Now listening on: https://localhost:7250
[2023-08-21 13:07:04.025 +02:00  INF]  Now listening on: http://localhost:5250
[2023-08-21 13:07:04.025 +02:00  INF]  Application started. Press Ctrl+C to shut down.
[2023-08-21 13:07:04.025 +02:00  INF]  Hosting environment: Development
[2023-08-21 13:07:04.025 +02:00  INF]  Content root path: /Users/cephasjonsson/Documents/dev/netpower/beredskap/Beredskap/Beredskap.WebApi
[2023-08-21 13:07:04.730 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/index.html - -
[2023-08-21 13:07:04.804 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/index.html - - - 200 - text/html;charset=utf-8 74.5391ms
[2023-08-21 13:07:04.883 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - -
[2023-08-21 13:07:04.963 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 80.2364ms
[2023-08-21 13:07:11.463 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:07:11.541 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:11.542 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 79.1296ms
[2023-08-21 13:07:11.567 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:07:11.568 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:11.571 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:11.639 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:07:12.417 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:12.420 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:07:12.421 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:12.421 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:12.421 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:07:12.443 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:12.904 +02:00  INF]  Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:07:12.904 +02:00  INF]  Executed DbCommand (31ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:07:13.059 +02:00  INF]  Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:13.059 +02:00  INF]  Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:13.064 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:13.064 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:13.149 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:07:13.149 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:07:13.169 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 1527.5562ms
[2023-08-21 13:07:13.169 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 745.3023ms
[2023-08-21 13:07:13.170 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:13.170 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:13.181 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 760.5960ms
[2023-08-21 13:07:13.181 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 1614.1531ms
[2023-08-21 13:07:13.202 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:13.202 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:13.203 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.4400ms
[2023-08-21 13:07:13.204 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:13.240 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:13.240 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:13.241 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:13.333 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:13.344 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:13.362 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:13.365 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 123.7712ms
[2023-08-21 13:07:13.365 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:13.365 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 0 - application/json;+charset=utf-8 160.8507ms
[2023-08-21 13:07:13.471 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:13.472 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:13.472 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3579ms
[2023-08-21 13:07:13.806 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:13.808 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:13.808 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:13.809 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:13.811 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:13.825 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:13.827 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:13.835 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 20.8516ms
[2023-08-21 13:07:13.835 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:13.835 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 29.5828ms
[2023-08-21 13:07:14.601 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:14.601 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:14.624 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 22.9970ms
[2023-08-21 13:07:14.667 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:14.668 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:14.668 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.6845ms
[2023-08-21 13:07:14.668 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:14.669 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:14.669 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:14.670 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:14.670 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:14.671 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:14.674 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:14.674 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:14.680 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:14.684 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:14.735 +02:00  INF]  Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:07:14.744 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:07:14.744 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 69.7675ms
[2023-08-21 13:07:14.744 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:14.744 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 200 - application/json;+charset=utf-8 76.0637ms
[2023-08-21 13:07:14.780 +02:00  INF]  Executed DbCommand (32ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:07:17.953 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:17.969 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 3292.5793ms
[2023-08-21 13:07:17.969 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:17.970 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 3300.1125ms
[2023-08-21 13:07:35.565 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:07:35.566 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:35.567 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 2.6219ms
[2023-08-21 13:07:35.654 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:07:35.654 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:35.655 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:35.655 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:07:35.664 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:35.763 +02:00  INF]  Executed DbCommand (92ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:07:35.877 +02:00  INF]  Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:35.887 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:07:35.887 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:07:35.887 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 232.7297ms
[2023-08-21 13:07:35.888 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:07:35.889 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 233.8034ms
[2023-08-21 13:07:35.908 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:35.908 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:35.908 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3383ms
[2023-08-21 13:07:35.909 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:35.910 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:35.910 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:35.910 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:35.911 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:35.919 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:35.920 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:35.920 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 9.6824ms
[2023-08-21 13:07:35.920 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:35.920 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 10.5658ms
[2023-08-21 13:07:36.995 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:36.995 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - -
[2023-08-21 13:07:36.995 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:36.995 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:36.996 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - - - 204 - - 0.8962ms
[2023-08-21 13:07:36.996 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.8965ms
[2023-08-21 13:07:36.999 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - -
[2023-08-21 13:07:37.003 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:37.003 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:37.003 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:37.005 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:37.006 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:37.044 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:37.044 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:37.044 +02:00  INF]  Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:07:37.045 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:37.046 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:07:37.046 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 42.979ms
[2023-08-21 13:07:37.047 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:37.047 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - - - 200 - application/json;+charset=utf-8 47.9444ms
[2023-08-21 13:07:37.090 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:37.105 +02:00  INF]  Executed DbCommand (13ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:07:37.106 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:37.106 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 61.0087ms
[2023-08-21 13:07:37.107 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:37.107 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 100.4949ms
[2023-08-21 13:07:38.388 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:38.390 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:38.390 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:38.390 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:38.391 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:38.403 +02:00  INF]  Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:38.405 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:38.406 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 15.6119ms
[2023-08-21 13:07:38.406 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:38.406 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 17.9452ms
[2023-08-21 13:07:39.305 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:39.307 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:39.307 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:39.307 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:39.310 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:39.311 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:39.312 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:39.313 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 1.3015ms
[2023-08-21 13:07:39.320 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:07:39.323 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:39.323 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:39.323 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 16.0223ms
[2023-08-21 13:07:39.323 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:39.323 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 18.2376ms
[2023-08-21 13:07:39.347 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:39.348 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:39.348 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:39.349 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:39.356 +02:00  INF]  Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:07:39.358 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:07:39.358 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 10.1413ms
[2023-08-21 13:07:39.358 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:39.360 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 200 - application/json;+charset=utf-8 37.2392ms
[2023-08-21 13:07:39.980 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:39.981 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:39.981 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:39.981 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:39.982 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:39.993 +02:00  INF]  Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:39.994 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:39.995 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 13.5535ms
[2023-08-21 13:07:39.995 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:39.995 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 15.4500ms
[2023-08-21 13:07:41.791 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:41.791 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:41.791 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5507ms
[2023-08-21 13:07:41.794 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:41.796 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:41.796 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:41.796 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:41.797 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:41.807 +02:00  INF]  Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:41.808 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:41.808 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 12.2768ms
[2023-08-21 13:07:41.809 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:41.809 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 15.1166ms
[2023-08-21 13:07:42.586 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - -
[2023-08-21 13:07:42.588 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:42.588 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - - - 204 - - 1.8576ms
[2023-08-21 13:07:42.586 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:42.589 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:42.589 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 2.5908ms
[2023-08-21 13:07:42.594 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - -
[2023-08-21 13:07:42.594 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:42.596 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:42.596 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:42.596 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:42.596 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:42.596 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:42.596 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:42.597 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:42.597 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:42.627 +02:00  INF]  Executed DbCommand (28ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:07:42.628 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:07:42.628 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 31.3106ms
[2023-08-21 13:07:42.628 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:42.628 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/297af0a9-060d-4ac7-b014-e421588150a0 - - - 200 - application/json;+charset=utf-8 33.8632ms
[2023-08-21 13:07:42.628 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:07:42.629 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:42.629 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 32.5168ms
[2023-08-21 13:07:42.629 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:42.629 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 34.8510ms
[2023-08-21 13:07:43.390 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:43.392 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:43.393 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:43.393 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:43.394 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:43.404 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:43.406 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:43.407 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 14.243ms
[2023-08-21 13:07:43.407 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:43.410 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 19.6610ms
[2023-08-21 13:07:45.787 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:45.792 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:45.792 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:45.795 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:45.796 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:45.827 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:45.828 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:45.828 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 33.3743ms
[2023-08-21 13:07:45.829 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:45.829 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 41.6332ms
[2023-08-21 13:07:55.404 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:55.405 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:55.405 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.7802ms
[2023-08-21 13:07:55.407 +02:00  INF]  Request starting HTTP/1.1 PUT https://localhost:7250/api/Incidents application/json 109
[2023-08-21 13:07:55.410 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:55.410 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.AddOrUpdateIncident (Beredskap.WebApi)'
[2023-08-21 13:07:55.416 +02:00  INF]  Route matched with {action = "AddOrUpdateIncident", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOrUpdateIncident(Beredskap.DTOs.IncidentDTOs.IncidentDTO) on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:55.432 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:55.562 +02:00  INF]  Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Guid), @p8='?' (DbType = DateTime2), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Incident] ([Id], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [IncidentStatus], [IsDeleted], [LastModifiedBy], [LastModifiedOn], [Location], [Name], [TenantId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
[2023-08-21 13:07:55.582 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.IncidentDTOs.IncidentDTO'.
[2023-08-21 13:07:55.582 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.AddOrUpdateIncident (Beredskap.WebApi) in 165.1812ms
[2023-08-21 13:07:55.582 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.AddOrUpdateIncident (Beredskap.WebApi)'
[2023-08-21 13:07:55.582 +02:00  INF]  Request finished HTTP/1.1 PUT https://localhost:7250/api/Incidents application/json 109 - 200 - application/json;+charset=utf-8 175.0120ms
[2023-08-21 13:07:57.475 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:57.475 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:57.475 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.5802ms
[2023-08-21 13:07:57.477 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:57.480 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:57.480 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:57.480 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:57.481 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:57.498 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:57.500 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:57.501 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 20.8672ms
[2023-08-21 13:07:57.501 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:57.501 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 23.7940ms
[2023-08-21 13:07:58.056 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:07:58.057 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:58.058 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:58.058 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:07:58.059 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:58.060 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:58.060 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:58.060 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 0.3732ms
[2023-08-21 13:07:58.100 +02:00  INF]  Executed DbCommand (38ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:07:58.102 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:58.102 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 43.9345ms
[2023-08-21 13:07:58.102 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:07:58.103 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:07:58.104 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 48.3625ms
[2023-08-21 13:07:58.105 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:58.106 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:58.106 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:58.107 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:58.139 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:07:58.140 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:07:58.140 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 33.6608ms
[2023-08-21 13:07:58.140 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:07:58.140 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 200 - application/json;+charset=utf-8 37.8511ms
[2023-08-21 13:07:59.225 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:07:59.227 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:07:59.227 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:59.227 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:07:59.229 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:07:59.244 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:07:59.245 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:07:59.246 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 18.705ms
[2023-08-21 13:07:59.246 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:07:59.246 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 20.8024ms
[2023-08-21 13:15:00.435 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - -
[2023-08-21 13:15:00.489 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:00.490 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/tokens - - - 204 - - 54.4468ms
[2023-08-21 13:15:00.493 +02:00  INF]  Request starting HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52
[2023-08-21 13:15:00.494 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:00.495 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:15:00.495 +02:00  INF]  Route matched with {action = "Login", controller = "Tokens"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, Beredskap.DTOs.AuthDTOs.TokenRequest) on controller Beredskap.WebApi.Controllers.TokensController (Beredskap.WebApi).
[2023-08-21 13:15:00.499 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:00.548 +02:00  INF]  Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TenantId], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
[2023-08-21 13:15:00.639 +02:00  INF]  Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:15:00.649 +02:00  INF]  Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
[2023-08-21 13:15:00.649 +02:00  INF]  Executing OkObjectResult, writing value of type '<>f__AnonymousType1`6[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2023-08-21 13:15:00.649 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi) in 154.1832ms
[2023-08-21 13:15:00.649 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TokensController.Login (Beredskap.WebApi)'
[2023-08-21 13:15:00.649 +02:00  INF]  Request finished HTTP/1.1 POST https://localhost:7250/api/tokens application/json 52 - 200 - application/json;+charset=utf-8 156.5821ms
[2023-08-21 13:15:00.684 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - -
[2023-08-21 13:15:00.684 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:00.684 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants - - - 204 - - 0.3340ms
[2023-08-21 13:15:00.685 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:15:00.686 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:00.686 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:15:00.686 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:15:00.686 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:00.716 +02:00  INF]  Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:15:00.717 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:15:00.718 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 31.7195ms
[2023-08-21 13:15:00.718 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:15:00.718 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 32.6326ms
[2023-08-21 13:15:01.679 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/3f484122-7a54-4ca5-8f4c-cac9d297452f - -
[2023-08-21 13:15:01.679 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:01.679 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/3f484122-7a54-4ca5-8f4c-cac9d297452f - - - 204 - - 0.9004ms
[2023-08-21 13:15:01.693 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/3f484122-7a54-4ca5-8f4c-cac9d297452f - -
[2023-08-21 13:15:01.694 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:01.694 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:15:01.694 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:15:01.695 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:01.703 +02:00  INF]  Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:15:01.704 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:15:01.704 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 9.5456ms
[2023-08-21 13:15:01.704 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:15:01.704 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/3f484122-7a54-4ca5-8f4c-cac9d297452f - - - 200 - application/json;+charset=utf-8 10.5499ms
[2023-08-21 13:15:01.729 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - -
[2023-08-21 13:15:01.730 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:01.730 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Incidents - - - 204 - - 0.9257ms
[2023-08-21 13:15:01.732 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:15:01.734 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:01.735 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:15:01.735 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:15:01.737 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:01.754 +02:00  INF]  Executed DbCommand (16ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:15:01.754 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:15:01.754 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 19.0978ms
[2023-08-21 13:15:01.754 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:15:01.754 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 22.0582ms
[2023-08-21 13:15:02.829 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants - -
[2023-08-21 13:15:02.830 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:02.831 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:15:02.831 +02:00  INF]  Route matched with {action = "GetTenants", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Beredskap.DTOs.TenantDTOs.TenantDTO]] GetTenants() on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:15:02.832 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:02.846 +02:00  INF]  Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
ORDER BY [t].[Key]
[2023-08-21 13:15:02.846 +02:00  INF]  Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.TenantDTOs.TenantDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:15:02.847 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi) in 15.7473ms
[2023-08-21 13:15:02.847 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenants (Beredskap.WebApi)'
[2023-08-21 13:15:02.847 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants - - - 200 - application/json;+charset=utf-8 17.4089ms
[2023-08-21 13:15:03.366 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Incidents - -
[2023-08-21 13:15:03.367 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:03.367 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:15:03.368 +02:00  INF]  Route matched with {action = "GetIncidents", controller = "Incidents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetIncidents() on controller Beredskap.WebApi.Controllers.IncidentsController (Beredskap.WebApi).
[2023-08-21 13:15:03.368 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:03.419 +02:00  INF]  Executed DbCommand (51ms) [Parameters=[@__ef_filter__CurrentTenant_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [i].[Id], [i].[CreatedBy], [i].[CreatedOn], [i].[DeletedBy], [i].[DeletedOn], [i].[IncidentStatus], [i].[IsDeleted], [i].[LastModifiedBy], [i].[LastModifiedOn], [i].[Location], [i].[Name], [i].[TenantId]
FROM [Incident] AS [i]
WHERE [i].[TenantId] = @__ef_filter__CurrentTenant_0
[2023-08-21 13:15:03.419 +02:00  INF]  Request starting HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:15:03.420 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:03.420 +02:00  INF]  Request finished HTTP/1.1 OPTIONS https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 204 - - 0.5465ms
[2023-08-21 13:15:03.421 +02:00  INF]  Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Beredskap.DTOs.IncidentDTOs.IncidentDTO, Beredskap.DTOs, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2023-08-21 13:15:03.421 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi) in 53.6578ms
[2023-08-21 13:15:03.421 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.IncidentsController.GetIncidents (Beredskap.WebApi)'
[2023-08-21 13:15:03.422 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Incidents - - - 200 - application/json;+charset=utf-8 55.6828ms
[2023-08-21 13:15:03.423 +02:00  INF]  Request starting HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - -
[2023-08-21 13:15:03.424 +02:00  INF]  CORS policy execution successful.
[2023-08-21 13:15:03.424 +02:00  INF]  Executing endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:15:03.424 +02:00  INF]  Route matched with {action = "GetTenant", controller = "Tenants"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTenant(System.String) on controller Beredskap.WebApi.Controllers.TenantsController (Beredskap.WebApi).
[2023-08-21 13:15:03.426 +02:00  INF]  Entity Framework Core 6.0.1 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.1' with options: None
[2023-08-21 13:15:03.464 +02:00  INF]  Executed DbCommand (37ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [t].[Id], [t].[IsActive], [t].[Key]
FROM [Tenant] AS [t]
WHERE [t].[Id] = @__id_0
[2023-08-21 13:15:03.465 +02:00  INF]  Executing OkObjectResult, writing value of type 'Beredskap.DTOs.TenantDTOs.TenantDTO'.
[2023-08-21 13:15:03.465 +02:00  INF]  Executed action Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi) in 40.4127ms
[2023-08-21 13:15:03.465 +02:00  INF]  Executed endpoint 'Beredskap.WebApi.Controllers.TenantsController.GetTenant (Beredskap.WebApi)'
[2023-08-21 13:15:03.465 +02:00  INF]  Request finished HTTP/1.1 GET https://localhost:7250/api/Tenants/b759912e-e920-4cfd-acc5-3e635af6f0a2 - - - 200 - application/json;+charset=utf-8 42.2876ms
